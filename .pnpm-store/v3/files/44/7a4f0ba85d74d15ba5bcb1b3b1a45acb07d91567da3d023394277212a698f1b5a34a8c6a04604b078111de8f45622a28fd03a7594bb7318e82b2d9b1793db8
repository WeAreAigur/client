{"version":3,"sources":["../../../../../src/client/components/router-reducer/router-reducer.ts"],"names":["CacheStates","fetchServerResponse","createRecordFromThenable","readRecordValue","createHrefFromUrl","fillLazyItemsTillLeafWithHead","fillCacheWithNewSubTreeData","invalidateCacheBelowFlightSegmentPath","fillCacheWithDataProperty","createOptimisticTree","applyRouterStatePatchToTree","shouldHardNavigate","isNavigatingToNewRootLayout","ACTION_REFRESH","ACTION_NAVIGATE","ACTION_RESTORE","ACTION_SERVER_PATCH","ACTION_PREFETCH","clientReducer","state","action","type","url","navigateType","cache","mutable","forceOptimisticNavigation","pathname","search","href","pendingPush","isForCurrentTree","JSON","stringify","previousTree","tree","mpaNavigation","canonicalUrl","canonicalUrlOverride","pushRef","focusAndScrollRef","apply","prefetchCache","patchedTree","useExistingCache","prefetchValues","get","flightData","newTree","Error","canonicalUrlOverrideHrefVal","undefined","flightDataPath","flightSegmentPath","slice","treePatch","subTreeData","head","length","status","READY","parallelRoutes","Map","hardNavigate","location","canonicalUrlOverrideHref","segments","split","push","optimisticTree","res","bailOptimistic","data","overrideCanonicalUrl","console","log","URL","origin","serverResponse","set","serverReducer","_action","reducer","window"],"mappings":"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"}