{"version":3,"sources":["../../../../../src/build/webpack/loaders/next-app-loader.ts"],"names":["Log","FILE_TYPES","layout","template","error","loading","head","GLOBAL_ERROR_FILE_TYPE","PAGE_SEGMENT","createTreeCodeFromPath","pagePath","resolve","resolveParallelSegments","splittedPath","split","appDirPrefix","pages","rootLayout","globalError","createSubtreePropsFromSegmentPath","segments","segmentPath","join","props","parallelSegments","length","push","metadataCode","parallelKey","parallelSegment","filePaths","matchedPagePath","resolvedPagePath","JSON","stringify","parallelSegmentPath","treeCode","subtreeCode","treeMetadataCode","subTreeMetadataCode","Promise","all","Object","values","map","file","layoutPath","find","type","path","resolveFileBasedMetadataForLoader","filter","filePath","undefined","entries","key","value","createAbsolutePath","appDir","pathToTurnAbsolute","replace","sep","nextAppLoader","name","appPaths","pageExtensions","rootDir","tsconfigPath","isDev","getOptions","buildInfo","getModuleBuildInfo","_module","route","page","absolutePagePath","extensions","extension","resolveOptions","NODE_RESOLVE_OPTIONS","getResolve","normalizedAppPaths","pathname","matched","startsWith","rest","slice","matchedSegment","matchedKey","resolver","resolveDir","resolved","rootContext","addDependency","err","absolutePath","ext","absolutePathWithExtension","addMissingDependency","message","includes","pageListCode","errorMessage","chalk","bold","APP_DIR_ALIAS","process","exit","createdRootLayout","verifyRootLayout","dir","Error","result"],"mappings":"AAAA;;;;;AACkB,IAAA,MAA0B,kCAA1B,0BAA0B,EAAA;AAEP,IAAA,cAAsB,WAAtB,sBAAsB,CAAA;AACxB,IAAA,mBAAyB,WAAzB,yBAAyB,CAAA;AACxC,IAAA,KAAM,WAAN,MAAM,CAAA;AACO,IAAA,iBAA+B,WAA/B,+BAA+B,CAAA;AACpDA,IAAAA,GAAG,mCAAM,2BAA2B,EAAjC;AACe,IAAA,UAAwB,WAAxB,wBAAwB,CAAA;AACJ,IAAA,gBAAwC,WAAxC,wCAAwC,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE1F,MAAMC,UAAU,GAAG;IACjBC,MAAM,EAAE,QAAQ;IAChBC,QAAQ,EAAE,UAAU;IACpBC,KAAK,EAAE,OAAO;IACdC,OAAO,EAAE,SAAS;IAClBC,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,WAAW;CACzB,AAAS;AAEV,MAAMC,sBAAsB,GAAG,cAAc;AAE7C,MAAMC,YAAY,GAAG,OAAO;AAW5B,eAAeC,sBAAsB,CAAC,EACpCC,QAAQ,CAAA,EACRC,OAAO,CAAA,EACPC,uBAAuB,CAAA,EAUxB,EAAE;IACD,MAAMC,YAAY,GAAGH,QAAQ,CAACI,KAAK,SAAS;IAC5C,MAAMC,YAAY,GAAGF,YAAY,CAAC,CAAC,CAAC;IACpC,MAAMG,KAAK,GAAa,EAAE;IAE1B,IAAIC,UAAU,AAAoB;IAClC,IAAIC,WAAW,AAAoB;IAEnC,eAAeC,iCAAiC,CAC9CC,QAAkB,EAIjB;QACD,MAAMC,WAAW,GAAGD,QAAQ,CAACE,IAAI,CAAC,GAAG,CAAC;QAEtC,wDAAwD;QACxD,MAAMC,KAAK,GAA2B,EAAE;QAExC,wDAAwD;QACxD,MAAMC,gBAAgB,GAAqC,EAAE;QAC7D,IAAIJ,QAAQ,CAACK,MAAM,KAAK,CAAC,EAAE;YACzBD,gBAAgB,CAACE,IAAI,CAAC;gBAAC,UAAU;gBAAE,EAAE;aAAC,CAAC;SACxC,MAAM;YACLF,gBAAgB,CAACE,IAAI,IAAId,uBAAuB,CAACS,WAAW,CAAC,CAAC;SAC/D;QAED,IAAIM,YAAY,GAAG,EAAE;QAErB,KAAK,MAAM,CAACC,WAAW,EAAEC,eAAe,CAAC,IAAIL,gBAAgB,CAAE;gBAwC1CM,GAElB;YAzCD,IAAID,eAAe,KAAKrB,YAAY,EAAE;gBACpC,MAAMuB,eAAe,GAAG,CAAC,EAAEhB,YAAY,CAAC,EAAEM,WAAW,CAAC,KAAK,CAAC;gBAC5D,MAAMW,gBAAgB,GAAG,MAAMrB,OAAO,CAACoB,eAAe,CAAC;gBACvD,IAAIC,gBAAgB,EAAEhB,KAAK,CAACU,IAAI,CAACM,gBAAgB,CAAC;gBAElDL,YAAY,IAAI,CAAC;;iBAER,EACL,oCAAoC;gBACpCP,QAAQ,CAACK,MAAM,GAAG,CAAC,CACpB;uDAC4C,EAAEQ,IAAI,CAACC,SAAS,CAC3DF,gBAAgB,CACjB,CAAC;gBACI,EAAEC,IAAI,CAACC,SAAS,CAACF,gBAAgB,CAAC,CAAC;UACzC,CAAC;gBAEH,+GAA+G;gBAC/GT,KAAK,CAACK,WAAW,CAAC,GAAG,CAAC;yDAC2B,EAAEK,IAAI,CAACC,SAAS,CAC7DF,gBAAgB,CACjB,CAAC,GAAG,EAAEC,IAAI,CAACC,SAAS,CAACF,gBAAgB,CAAC,CAAC,GAAG,CAAC;gBAC9C,SAAQ;aACT;YAED,MAAMG,mBAAmB,GAAGd,WAAW,GAAG,GAAG,GAAGQ,eAAe;YAC/D,MAAM,EAAEO,QAAQ,EAAEC,WAAW,CAAA,EAAEC,gBAAgB,EAAEC,mBAAmB,CAAA,EAAE,GACpE,MAAMpB,iCAAiC,CAAC;mBAAIC,QAAQ;gBAAES,eAAe;aAAC,CAAC;YAEzE,mDAAmD;YACnD,MAAMC,SAAS,GAAG,MAAMU,OAAO,CAACC,GAAG,CACjCC,MAAM,CAACC,MAAM,CAAC1C,UAAU,CAAC,CAAC2C,GAAG,CAAC,OAAOC,IAAI,GAAK;gBAC5C,OAAO;oBACLA,IAAI;oBACJ,MAAMlC,OAAO,CAAC,CAAC,EAAEI,YAAY,CAAC,EAAEoB,mBAAmB,CAAC,CAAC,EAAEU,IAAI,CAAC,CAAC,CAAC;iBAC/D,CAAS;aACX,CAAC,CACH;YAED,MAAMC,UAAU,GAAGhB,CAAAA,GAElB,GAFkBA,SAAS,CAACiB,IAAI,CAC/B,CAAC,CAACC,IAAI,EAAEC,IAAI,CAAC,GAAKD,IAAI,KAAK,QAAQ,IAAI,CAAC,CAACC,IAAI,CAC9C,SAAK,GAFanB,KAAAA,CAEb,GAFaA,GAElB,AAAE,CAAC,CAAC,CAAC;YACN,IAAI,CAACb,UAAU,EAAE;gBACfA,UAAU,GAAG6B,UAAU;aACxB;YAED,kCAAkC;YAClC,IAAIA,UAAU,EAAE;gBACdnB,YAAY,IAAI,CAAC;;iBAER,EAAEP,QAAQ,CAACK,MAAM,CAAC;uDACoB,EAAEQ,IAAI,CAACC,SAAS,CAC3DY,UAAU,CACX,CAAC;gBACI,EAAEb,IAAI,CAACC,SAAS,CAACY,UAAU,CAAC,CAAC;UACnC,CAAC;aACJ;YACDnB,YAAY,IAAI,MAAMuB,CAAAA,GAAAA,gBAAiC,AAGtD,CAAA,kCAHsD,CACrD9B,QAAQ,CAACK,MAAM,EACd,MAAMd,OAAO,CAAC,CAAC,EAAEI,YAAY,CAAC,EAAEoB,mBAAmB,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAC/D;YACDR,YAAY,IAAIY,mBAAmB;YAEnC,IAAI,CAACtB,UAAU,EAAE;gBACfA,UAAU,GAAG6B,UAAU;aACxB;YAED,IAAI,CAAC5B,WAAW,EAAE;gBAChBA,WAAW,GAAG,MAAMP,OAAO,CACzB,CAAC,EAAEI,YAAY,CAAC,EAAEoB,mBAAmB,CAAC,CAAC,EAAE5B,sBAAsB,CAAC,CAAC,CAClE;aACF;YAEDgB,KAAK,CAACK,WAAW,CAAC,GAAG,CAAC;SACnB,EAAEC,eAAe,CAAC;QACnB,EAAEQ,WAAW,CAAC;;UAEZ,EAAEP,SAAS,CACRqB,MAAM,CAAC,CAAC,GAAGC,QAAQ,CAAC,GAAKA,QAAQ,KAAKC,SAAS,CAAC,CAChDT,GAAG,CAAC,CAAC,CAACC,IAAI,EAAEO,QAAQ,CAAC,GAAK;gBACzB,IAAIA,QAAQ,KAAKC,SAAS,EAAE;oBAC1B,OAAO,EAAE,CAAA;iBACV;gBAED,OAAO,CAAC,CAAC,EAAER,IAAI,CAAC,4CAA4C,EAAEZ,IAAI,CAACC,SAAS,CAC1EkB,QAAQ,CACT,CAAC,GAAG,EAAEnB,IAAI,CAACC,SAAS,CAACkB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAA;aACpC,CAAC,CACD9B,IAAI,CAAC,IAAI,CAAC,CAAC;;OAEjB,CAAC;SACH;QAED,OAAO;YACLc,QAAQ,EAAE,CAAC;QACT,EAAEM,MAAM,CAACY,OAAO,CAAC/B,KAAK,CAAC,CACpBqB,GAAG,CAAC,CAAC,CAACW,GAAG,EAAEC,KAAK,CAAC,GAAK,CAAC,EAAED,GAAG,CAAC,EAAE,EAAEC,KAAK,CAAC,CAAC,CAAC,CACzClC,IAAI,CAAC,KAAK,CAAC,CAAC;OAChB,CAAC;YACFgB,gBAAgB,EAAEX,YAAY;SAC/B,CAAA;KACF;IAED,MAAM,EAAES,QAAQ,CAAA,EAAEE,gBAAgB,CAAA,EAAE,GAClC,MAAMnB,iCAAiC,CAAC,EAAE,CAAC;IAC7C,OAAO;QACLiB,QAAQ,EAAE,CAAC,aAAa,EAAEA,QAAQ,CAAC,UAAU,CAAC;QAC9CE,gBAAgB,EAAE,CAAC,kBAAkB,EAAEA,gBAAgB,CAAC,EAAE,CAAC;QAC3DtB,KAAK,EAAE,CAAC,cAAc,EAAEiB,IAAI,CAACC,SAAS,CAAClB,KAAK,CAAC,CAAC,CAAC,CAAC;QAChDC,UAAU;QACVC,WAAW;KACZ,CAAA;CACF;AAED,SAASuC,kBAAkB,CAACC,MAAc,EAAEC,kBAA0B,EAAE;IACtE,OACEA,kBAAkB,AAChB,uEAAuE;KACtEC,OAAO,QAAQC,KAAG,IAAA,CAAC,CACnBD,OAAO,0BAA0BF,MAAM,CAAC,CAC5C;CACF;AAED,MAAMI,aAAa,GASd,eAAeA,aAAa,GAAG;IAClC,MAAM,EACJC,IAAI,CAAA,EACJL,MAAM,CAAA,EACNM,QAAQ,CAAA,EACRtD,QAAQ,CAAA,EACRuD,cAAc,CAAA,EACdC,OAAO,CAAA,EACPC,YAAY,CAAA,EACZC,KAAK,CAAA,IACN,GAAG,IAAI,CAACC,UAAU,EAAE,IAAI,EAAE;IAE3B,MAAMC,SAAS,GAAGC,CAAAA,GAAAA,mBAAkB,AAAuB,CAAA,mBAAvB,CAAC,AAAC,IAAI,CAASC,OAAO,CAAC;IAC3DF,SAAS,CAACG,KAAK,GAAG;QAChBC,IAAI,EAAEX,IAAI,CAACH,OAAO,SAAS,EAAE,CAAC;QAC9Be,gBAAgB,EAAElB,kBAAkB,CAACC,MAAM,EAAEhD,QAAQ,CAAC;KACvD;IAED,MAAMkE,UAAU,GAAGX,cAAc,CAACrB,GAAG,CAAC,CAACiC,SAAS,GAAK,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC;IACrE,MAAMC,cAAc,GAAQ;QAC1B,GAAGC,cAAoB,qBAAA;QACvBH,UAAU;KACX;IACD,MAAMjE,OAAO,GAAG,IAAI,CAACqE,UAAU,CAACF,cAAc,CAAC;IAE/C,MAAMG,kBAAkB,GACtB,OAAOjB,QAAQ,KAAK,QAAQ,GAAG;QAACA,QAAQ;KAAC,GAAGA,QAAQ,IAAI,EAAE;IAC5D,MAAMpD,uBAAuB,GAAG,CAACsE,QAAgB,GAAK;QACpD,MAAMC,OAAO,GAA2B,EAAE;QAC1C,KAAK,MAAMlC,IAAI,IAAIgC,kBAAkB,CAAE;YACrC,IAAIhC,IAAI,CAACmC,UAAU,CAACF,QAAQ,GAAG,GAAG,CAAC,EAAE;gBACnC,MAAMG,IAAI,GAAGpC,IAAI,CAACqC,KAAK,CAACJ,QAAQ,CAACzD,MAAM,GAAG,CAAC,CAAC,CAACX,KAAK,CAAC,GAAG,CAAC;gBAEvD,IAAIyE,cAAc,GAAGF,IAAI,CAAC,CAAC,CAAC;gBAC5B,4CAA4C;gBAC5C,IAAIA,IAAI,CAAC5D,MAAM,KAAK,CAAC,IAAI8D,cAAc,KAAK,MAAM,EAAE;oBAClDA,cAAc,GAAG/E,YAAY;iBAC9B;gBAED,MAAMgF,UAAU,GAAGD,cAAc,CAACH,UAAU,CAAC,GAAG,CAAC,GAC7CG,cAAc,CAACD,KAAK,CAAC,CAAC,CAAC,GACvB,UAAU;gBAEdH,OAAO,CAACK,UAAU,CAAC,GAAGD,cAAc;aACrC;SACF;QACD,OAAO7C,MAAM,CAACY,OAAO,CAAC6B,OAAO,CAAC,CAAA;KAC/B;IAED,MAAMM,QAAQ,GAAG,OAAOP,QAAgB,EAAEQ,UAAoB,GAAK;QACjE,IAAIA,UAAU,EAAE;YACd,OAAOjC,kBAAkB,CAACC,MAAM,EAAEwB,QAAQ,CAAC,CAAA;SAC5C;QAED,IAAI;YACF,MAAMS,QAAQ,GAAG,MAAMhF,OAAO,CAAC,IAAI,CAACiF,WAAW,EAAEV,QAAQ,CAAC;YAC1D,IAAI,CAACW,aAAa,CAACF,QAAQ,CAAC;YAC5B,OAAOA,QAAQ,CAAA;SAChB,CAAC,OAAOG,GAAG,EAAO;YACjB,MAAMC,YAAY,GAAGtC,kBAAkB,CAACC,MAAM,EAAEwB,QAAQ,CAAC;YACzD,KAAK,MAAMc,GAAG,IAAIpB,UAAU,CAAE;gBAC5B,MAAMqB,yBAAyB,GAAG,CAAC,EAAEF,YAAY,CAAC,EAAEC,GAAG,CAAC,CAAC;gBACzD,IAAI,CAACE,oBAAoB,CAACD,yBAAyB,CAAC;aACrD;YACD,IAAIH,GAAG,CAACK,OAAO,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAE;gBACzC,OAAO/C,SAAS,CAAA;aACjB;YACD,MAAMyC,GAAG,CAAA;SACV;KACF;IAED,MAAM,EACJ1D,QAAQ,CAAA,EACRE,gBAAgB,CAAA,EAChBtB,KAAK,EAAEqF,YAAY,CAAA,EACnBpF,UAAU,CAAA,EACVC,WAAW,CAAA,IACZ,GAAG,MAAMT,sBAAsB,CAAC;QAC/BC,QAAQ;QACRC,OAAO,EAAE8E,QAAQ;QACjB7E,uBAAuB;KACxB,CAAC;IAEF,IAAI,CAACK,UAAU,EAAE;QACf,MAAMqF,YAAY,GAAG,CAAC,EAAEC,MAAK,QAAA,CAACC,IAAI,CAChC9F,QAAQ,CAACkD,OAAO,CAAC,CAAC,EAAE6C,UAAa,cAAA,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAC1C,CAAC,uFAAuF,CAAC;QAE1F,IAAI,CAACrC,KAAK,EAAE;YACV,8DAA8D;YAC9DpE,GAAG,CAACI,KAAK,CAACkG,YAAY,CAAC;YACvBI,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;SAChB,MAAM;YACL,2CAA2C;YAC3C,MAAMC,iBAAiB,GAAG,MAAMC,CAAAA,GAAAA,iBAAgB,AAM9C,CAAA,iBAN8C,CAAC;gBAC/CnD,MAAM,EAAEA,MAAM;gBACdoD,GAAG,EAAE5C,OAAO;gBACZC,YAAY,EAAEA,YAAY;gBAC1BzD,QAAQ;gBACRuD,cAAc;aACf,CAAC;YACF,IAAI,CAAC2C,iBAAiB,EAAE;gBACtB,MAAM,IAAIG,KAAK,CAACT,YAAY,CAAC,CAAA;aAC9B;SACF;KACF;IAED,MAAMU,MAAM,GAAG,CAAC;WACP,EAAE5E,QAAQ,CAAC;WACX,EAAEE,gBAAgB,CAAC;WACnB,EAAE+D,YAAY,CAAC;;;;;2CAKiB,EAAEpE,IAAI,CAACC,SAAS,CACrDhB,WAAW,IAAI,4CAA4C,CAC5D,CAAC;;;;;;;;;EASJ,CAAC;IAED,OAAO8F,MAAM,CAAA;CACd;eAEclD,aAAa"}