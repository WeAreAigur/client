{"version":3,"sources":["../../../src/client/use-intersection.tsx"],"names":["useIntersection","hasIntersectionObserver","IntersectionObserver","observers","Map","idList","createObserver","options","id","root","margin","rootMargin","existing","find","obj","instance","get","elements","observer","entries","forEach","entry","callback","target","isVisible","isIntersecting","intersectionRatio","push","set","observe","element","unobserve","delete","size","disconnect","index","findIndex","splice","rootRef","disabled","isDisabled","visible","setVisible","useState","elementRef","useRef","setElement","useCallback","current","useEffect","tagName","idleCallback","requestIdleCallback","cancelIdleCallback","resetVisible"],"mappings":"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"}